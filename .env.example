# ============================================================================
# DOCTIC MEDICAL OS - ENVIRONMENT VARIABLES
# Version: 2.0
# ============================================================================

# ============================================================================
# APPLICATION
# ============================================================================
VITE_APP_NAME="Doctic Medical OS"
VITE_APP_VERSION="2.0.0"
VITE_APP_ENV="development"
VITE_API_URL="http://localhost:3000/api"

# ============================================================================
# DATABASE (PostgreSQL)
# ============================================================================
DATABASE_URL="postgresql://doctic_user:doctic_password@localhost:5432/doctic_db?schema=public"
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# ============================================================================
# AUTHENTICATION (JWT)
# ============================================================================
JWT_SECRET="your-super-secret-jwt-key-change-in-production"
JWT_EXPIRY="15m"                      # Access token expiration
JWT_REFRESH_SECRET="your-refresh-secret-change-in-production"
JWT_REFRESH_EXPIRY="7d"               # Refresh token expiration

# ============================================================================
# DAILY.CO (TÉLÉCONSULTATION)
# ============================================================================
VITE_DAILY_API_KEY="your-daily-api-key-here"
DAILY_DOMAIN="your-domain.daily.co"   # Ex: doctic.daily.co
DAILY_WEBHOOK_SECRET="your-webhook-secret"

# Options Daily.co
DAILY_MAX_PARTICIPANTS=2              # Médecin + Patient
DAILY_ENABLE_RECORDING=true           # Enregistrement cloud (HIPAA compliant)
DAILY_ENABLE_SCREENSHARE=true
DAILY_ENABLE_CHAT=true
DAILY_SESSION_TIMEOUT=3600            # 1 heure max par session

# ============================================================================
# EMAIL (NODEMAILER) - Pour envoi ordonnances
# ============================================================================
SMTP_HOST="smtp.gmail.com"            # Ou smtp.office365.com, smtp.sendgrid.net
SMTP_PORT=587
SMTP_SECURE=false                     # false pour STARTTLS, true pour SSL
SMTP_USER="noreply@doctic.com"
SMTP_PASSWORD="your-email-password"
SMTP_FROM_NAME="Doctic Medical OS"
SMTP_FROM_EMAIL="noreply@doctic.com"

# SendGrid (Alternative)
# SENDGRID_API_KEY="your-sendgrid-api-key"

# ============================================================================
# SMS (TWILIO) - Pour rappels RDV et codes 2FA
# ============================================================================
TWILIO_ACCOUNT_SID="your-twilio-account-sid"
TWILIO_AUTH_TOKEN="your-twilio-auth-token"
TWILIO_PHONE_NUMBER="+33612345678"    # Numéro Twilio

# ============================================================================
# STOCKAGE FICHIERS (AWS S3 ou compatible)
# ============================================================================
AWS_REGION="eu-west-3"                # Paris
AWS_ACCESS_KEY_ID="your-aws-access-key"
AWS_SECRET_ACCESS_KEY="your-aws-secret"
S3_BUCKET_PRESCRIPTIONS="doctic-prescriptions"
S3_BUCKET_TELECONSULT="doctic-teleconsult-recordings"
S3_BUCKET_MEDICAL_RECORDS="doctic-medical-records"
S3_URL_EXPIRY=3600                    # URLs signées expirent après 1h

# Cloudinary (Alternative)
# CLOUDINARY_CLOUD_NAME="your-cloud-name"
# CLOUDINARY_API_KEY="your-api-key"
# CLOUDINARY_API_SECRET="your-api-secret"

# ============================================================================
# BASE MÉDICAMENTS (VIDAL ou THÉRIAQUE)
# ============================================================================
VIDAL_API_KEY="your-vidal-api-key"
VIDAL_API_URL="https://api.vidal.fr/v1"

# Thériaque (Alternative française gratuite)
# THERIAQUE_API_URL="https://theriaque.org/api"

# ============================================================================
# PAIEMENT (STRIPE)
# ============================================================================
STRIPE_PUBLIC_KEY="pk_test_..."       # Clé publique Stripe (test)
STRIPE_SECRET_KEY="sk_test_..."       # Clé secrète Stripe (test)
STRIPE_WEBHOOK_SECRET="whsec_..."

# ============================================================================
# CARTES/GESTION VITALE (France)
# ============================================================================
CPAM_API_KEY="your-cpam-api-key"      # Pour télétransmission Assurance Maladie
SESAM_VITALE_ENABLED=false            # Activer lecteur Carte Vitale

# ============================================================================
# MONITORING & LOGGING
# ============================================================================
SENTRY_DSN="https://your-sentry-dsn@sentry.io/project-id"
SENTRY_ENV="development"
SENTRY_TRACES_SAMPLE_RATE=0.1         # 10% des transactions

DATADOG_API_KEY="your-datadog-api-key"
DATADOG_APP_KEY="your-datadog-app-key"

# ============================================================================
# REDIS (CACHE & SESSIONS)
# ============================================================================
REDIS_URL="redis://localhost:6379"
REDIS_TTL=3600                        # TTL par défaut 1h

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_WINDOW_MS=60000            # 1 minute
RATE_LIMIT_MAX_REQUESTS=100           # 100 requêtes/minute

# ============================================================================
# CORS
# ============================================================================
CORS_ORIGIN="http://localhost:3001,https://doctic.fr"
CORS_CREDENTIALS=true

# ============================================================================
# AI/ML (POUR MODULE RADIOLOGIE)
# ============================================================================
HUGGINGFACE_API_KEY="your-huggingface-api-key"
OPENAI_API_KEY="your-openai-api-key"  # Pour GPT-4 Vision (analyse images)

# ============================================================================
# COMPLIANCE & SÉCURITÉ
# ============================================================================
ENCRYPTION_KEY="your-32-char-encryption-key-here"  # AES-256 (32 bytes)
HIPAA_COMPLIANT=true
AUDIT_LOG_ENABLED=true
DATA_RETENTION_DAYS=3650              # 10 ans (France HDS)

# ============================================================================
# NOTIFICATIONS PUSH (FIREBASE)
# ============================================================================
FIREBASE_PROJECT_ID="doctic-medical-os"
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
FIREBASE_CLIENT_EMAIL="firebase-adminsdk-...@doctic-medical-os.iam.gserviceaccount.com"

# ============================================================================
# DEVELOPMENT TOOLS
# ============================================================================
DEBUG=true
LOG_LEVEL="debug"                     # debug, info, warn, error
ENABLE_SWAGGER=true                   # Documentation API auto

# ============================================================================
# PRODUCTION OVERRIDES (Fichier .env.production séparé)
# ============================================================================
# VITE_APP_ENV="production"
# VITE_API_URL="https://api.doctic.fr"
# JWT_SECRET="production-secret-very-long-and-complex"
# DATABASE_URL="postgresql://prod_user:prod_password@prod-db.doctic.fr:5432/doctic_prod"
# DAILY_API_KEY="production-daily-key"
# STRIPE_PUBLIC_KEY="pk_live_..."
# STRIPE_SECRET_KEY="sk_live_..."
# DEBUG=false
# LOG_LEVEL="warn"
